<div class="container-fluid">
<div class="row">
    <div class="col-md-4 border-right">
        <h2>Dirigenti</h2>
        <select id="employeeSelect" class="form-control mb-3" onchange="showEmployeeDetails()">
            <option value="" disabled selected>Seleziona un dirigente</option>
        </select>
    </div>
    <div class="col-md-4" id="employeeDetails" style="display: none;">
        <h2>Dettagli Dirigente</h2>
        <p><strong>Nome:</strong> <span id="employeeFirstName"></span></p>
        <p><strong>Cognome:</strong> <span id="employeeLastName"></span></p>
        <p><strong>Telefono:</strong> <input type="tel" id="employeePhone" class="form-control" oninput="enableSaveButton()"></p>
        <p><strong>Email:</strong> <input type="email" id="employeeEmail" class="form-control" oninput="enableSaveButton()"></p>
        <p><strong>Azienda:</strong> <input type="text" id="employeeCompany" class="form-control" oninput="enableSaveButton()"></p>
        <p><strong>Descrizione:</strong> <input type="text" id="employeeDescription" class="form-control" oninput="enableSaveButton()"></p>
        <button id="infoButton" class="btn btn-primary mt-2" onclick="showInfo()">info</button>
        <button id="saveButton" class="btn btn-success mt-2 ml-2" onclick="saveEmployeeDetails()" disabled>Salva</button>
    </div>
</div>
<div class="row">
    <div class="col-md-4 border-right"></div>
        <div class="col-md-4" id="salaryInfo" style="display: none;">
            <h2>Informazioni Stipendio</h2>
            <select id="monthSelect" class="form-control mb-3" onchange="showSalaryInfo()">
                <option value="" disabled selected>Seleziona un mese</option>
                <option value="Jan">Gennaio</option>
                <option value="Feb">Febbraio</option>
                <option value="Mar">Marzo</option>
                <option value="Apr">Aprile</option>
                <option value="Mag">Maggio</option>
                <option value="Giu">Giugno</option>
                <option value="Lug">Luglio</option>
                <option value="Ago">Agosto</option>
                <option value="Set">Settembre</option>
                <option value="Ott">Ottobre</option>
                <option value="Nov">Novembre</option>
                <option value="Dic">Dicembre</option>
            </select>
            <p><strong>Stipendio:</strong> <span id="salaryAmount"></span></p>
        </div>
</div>

<!-- Sezione delle informazioni sui giorni di ferie rimasti-->
<div class="row">
    <div class="col-md-4 border-right"></div>
        <div class="col-md-4" id="leaveInfo" style="display: none;">
            <h2>Informazioni Ferie</h2>
            <div class="form-group">
                <label for="daysTaken">Giorni presi:</label>
                <input type="number" class="form-control" id="daysTaken" oninput="enableSaveLeaveButton()">
                <label for="daysLeft">Giorni rimasti:</label>
                <input type="number" class="form-control" id="daysLeft" oninput="enableSaveLeaveButton()">
            </div>
            <button id="saveLeaveButton" class="btn btn-success mt-2 ml-2" onclick="saveLeaveDays()" disabled>Salva</button>
        </div>
    </div>
</div>

<!-- Sezione delle informazioni sugli orari -->
<div class="row">
    <div class="col-md-4 border-right"></div>
        <div class="col-md-4" id="workSchedule" style="display: none;">
            <div class="col-md-16">
                <h2>Orario di Lavoro</h2>
                <table class="table">
                    <thead>
                        <tr>
                            <th scope="col">Giorno</th>
                            <th scope="col">Ingresso</th>
                            <th scope="col">Uscita</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Lunedì</td>
                            <td id="mondayEntry"></td>
                            <td id="mondayExit"></td>
                        </tr>
                        <tr>
                            <td>Martedì</td>
                            <td id="tuesdayEntry"></td>
                            <td id="tuesdayExit"></td>
                        </tr>
                        <tr>
                            <td>Mercoledì</td>
                            <td id="wednesdayEntry"></td>
                            <td id="wednesdayExit"></td>
                        </tr>
                        <tr>
                            <td>Giovedì</td>
                            <td id="thursdayEntry"></td>
                            <td id="thursdayExit"></td>
                        </tr>
                        <tr>
                            <td>Venerdì</td>
                            <td id="fridayEntry"></td>
                            <td id="fridayExit"></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
</div>
</div>

<script>
// Dati di esempio per i dirigenti
const employees = [
    { firstName: 'Mario', lastName: 'Rossi', phone: '333 123 4567', email: 'mario.rossi@example.com', company: 'TechCorp', description: 'CEO di TechCorp', salary: { Gennaio: '5000€', Febbraio: '5100€', Marzo: '5200€' }, 
      workSchedule: { monday: { entry: '08:00', exit: '17:00' }, tuesday: { entry: '08:30', exit: '17:30' }, wednesday: { entry: '09:00', exit: '18:00' }, 
                     thursday: { entry: '08:15', exit: '17:15' }, friday: { entry: '08:45', exit: '17:45' } },
      salary: { Jan: '5000€', Feb: '5100€', Mar: '5200€', Apr: '5000€', Mar: '5100€', Giu: '5200€', Lug: '5000€', Ago: '5100€', Set: '5200€', Ott: '5000€', Nov: '5100€', Dic: '5200€' },
      leave: { taken: 10, left: 15 } },
    { firstName: 'Luigi', lastName: 'Bianchi', phone: '347 987 6543', email: 'luigi.bianchi@example.com', company: 'WebSolutions', description: 'CTO di WebSolutions', salary: { Gennaio: '4800€', Febbraio: '4850€', Marzo: '4900€' }, 
      workSchedule: { monday: { entry: '09:00', exit: '18:00' }, tuesday: { entry: '09:30', exit: '18:30' }, wednesday: { entry: '08:45', exit: '17:45' }, 
                     thursday: { entry: '09:15', exit: '18:15' }, friday: { entry: '09:00', exit: '18:00' } },
      salary: { Jan: '5000€', Feb: '5100€', Mar: '5200€', Apr: '5000€', Mar: '5100€', Giu: '5200€', Lug: '5000€', Ago: '5100€', Set: '5200€', Ott: '5000€', Nov: '5100€', Dic: '5200€' },
      leave: { taken: 10, left: 15 } },
    { firstName: 'Anna', lastName: 'Verdi', phone: '06 555 1212', email: 'anna.verdi@example.com', company: 'DesignPro', description: 'CFO di DesignPro', salary: { Gennaio: '4900€', Febbraio: '4950€', Marzo: '5000€' }, 
      workSchedule: { monday: { entry: '08:30', exit: '17:30' }, tuesday: { entry: '09:00', exit: '18:00' }, wednesday: { entry: '08:45', exit: '17:45' }, 
                     thursday: { entry: '08:45', exit: '17:45' }, friday: { entry: '09:15', exit: '18:15' } },
      salary: { Jan: '5000€', Feb: '5100€', Mar: '5200€', Apr: '5000€', Mar: '5100€', Giu: '5200€', Lug: '5000€', Ago: '5100€', Set: '5200€', Ott: '5000€', Nov: '5100€', Dic: '5200€' },
      leave: { taken: 10, left: 15 } },
];


const months = ['Gennaio', 'Febbraio', 'Marzo', 'Aprile', 'Maggio', 'Giugno', 'Luglio', 'Agosto', 'Settembre', 'Ottobre', 'Novembre', 'Dicembre'];

// Popola il menu a tendina dei dirigenti
const employeeSelect = document.getElementById('employeeSelect');
employees.forEach((employee, index) => {
    const option = document.createElement('option');
    option.value = index;
    option.textContent = `${employee.firstName} ${employee.lastName}`;
    employeeSelect.appendChild(option);
});

// Mostra i dettagli del dirigente selezionato
function showEmployeeDetails() {
    const selectedIndex = employeeSelect.value;
    if (selectedIndex === "") return;
    const employee = employees[selectedIndex];
    document.getElementById('employeeFirstName').textContent = employee.firstName;
    document.getElementById('employeeLastName').textContent = employee.lastName;
    document.getElementById('employeePhone').value = employee.phone;
    document.getElementById('employeeEmail').value = employee.email;
    document.getElementById('employeeCompany').value = employee.company;
    document.getElementById('employeeDescription').value = employee.description;

    document.getElementById('employeeDetails').style.display = 'block';
    document.getElementById('saveButton').disabled = true; // Disabilita il pulsante Salva
    document.getElementById('salaryInfo').style.display = 'none';
}

// Abilita il pulsante Salva se i campi modificabili vengono modificati
function enableSaveButton() {
    document.getElementById('saveButton').disabled = false;
}

// Salva i dettagli modificati del dirigente
function saveEmployeeDetails() {
    const selectedIndex = employeeSelect.value;
    if (selectedIndex === "") return;
    const employee = employees[selectedIndex];
    employee.company = document.getElementById('employeeCompany').value;
    employee.description = document.getElementById('employeeDescription').value;
    document.getElementById('saveButton').disabled = true; // Disabilita il pulsante Salva
    alert('Dettagli salvati con successo!');
}

// Chiama le funzioni per mostrare le info
function showInfo() {
    showSalaryInfo();
    showLeaveInfo();
    showWorkSchedule();
}

// Mostra le informazioni sullo stipendio
function showSalaryInfo() {
    document.getElementById('salaryInfo').style.display = 'block';
    const selectedIndex = employeeSelect.value;
    if (selectedIndex === "") return;

    const employee = employees[selectedIndex];
    const selectedMonth = document.getElementById('monthSelect').value;

    if (selectedMonth === "") return;

    const salaryInfo = employee.salary[selectedMonth];

    // Mostra le informazioni sugli stipendi senza nascondere le altre sezioni
    document.getElementById('employeeDetails').classList.add('active');
    document.getElementById('salaryInfo').classList.add('active');
    document.getElementById('salaryAmount').textContent = salaryInfo;

    // Nascondi eventualmente altre sezioni non necessarie
    document.getElementById('workSchedule').classList.remove('active');
}

// Mostra lo stipendio per il mese selezionato
function showSalary() {
    const selectedIndex = employeeSelect.value;
    const selectedMonth = monthSelect.value;
    if (selectedIndex === "" || selectedMonth === "") return;
    const employee = employees[selectedIndex];
    const salary = employee.salary[getMonthName(selectedMonth)];
    document.getElementById('salaryAmount').textContent = salary ? salary : 'N/A';
}

function getMonthName(monthNumber) {
    const monthNames = { 1: 'Jan', 2: 'Feb', 3: 'Mar', 4: 'Apr', 5: 'May', 6: 'Jun', 7: 'Jul', 8: 'Aug', 9: 'Sep', 10: 'Oct', 11: 'Nov', 12: 'Dec' };
    return monthNames[monthNumber];
}
        
// Mostra l'orario di lavoro del dirigente selezionato
    function showWorkSchedule() {
        document.getElementById('workSchedule').style.display = 'block';
        const selectedIndex = employeeSelect.value;
        if (selectedIndex === "") return;

        const employee = employees[selectedIndex];
        const workSchedule = employee.workSchedule;

        // Mostra l'orario di lavoro del dirigente senza nascondere le altre sezioni
        document.getElementById('workSchedule').classList.add('active');
        document.getElementById('mondayEntry').textContent = workSchedule.monday.entry;
        document.getElementById('mondayExit').textContent = workSchedule.monday.exit;
        document.getElementById('tuesdayEntry').textContent = workSchedule.tuesday.entry;
        document.getElementById('tuesdayExit').textContent = workSchedule.tuesday.exit;
        document.getElementById('wednesdayEntry').textContent = workSchedule.wednesday.entry;
        document.getElementById('wednesdayExit').textContent = workSchedule.wednesday.exit;
        document.getElementById('thursdayEntry').textContent = workSchedule.thursday.entry;
        document.getElementById('thursdayExit').textContent = workSchedule.thursday.exit;
        document.getElementById('fridayEntry').textContent = workSchedule.friday.entry;
        document.getElementById('fridayExit').textContent = workSchedule.friday.exit;
}

// Mostra le informazioni sui giorni di ferie del dirigente selezionato
function showLeaveInfo() {
    document.getElementById('leaveInfo').style.display = 'block';
    const selectedIndex = employeeSelect.value;
    if (selectedIndex === "") return;
    const employee = employees[selectedIndex];

    // Aggiorna le informazioni sui giorni di ferie
    document.getElementById('daysTaken').value = employee.leave.taken;
    document.getElementById('daysLeft').value = employee.leave.left;

    // Mostra la sezione delle ferie senza nascondere le altre sezioni
    document.getElementById('leaveInfo').classList.add('active');
}

function hideSections() {
    const sections = document.querySelectorAll('.employee-section');
    sections.forEach(section => {
        section.classList.remove('active');
    });
}

// Funzione per salvare le modifiche ai giorni di ferie
function saveLeaveDays() {
    const selectedIndex = employeeSelect.value;
    if (selectedIndex === "") return;
    const employee = employees[selectedIndex];
    
    // Aggiorna i giorni di ferie presi e rimasti
    employee.leave.taken = document.getElementById('daysTaken').value;
    employee.leave.left = document.getElementById('daysLeft').value;
    document.getElementById('saveLeaveButton').disabled = true; // Disabilita il pulsante Salva

    // Aggiungi eventuali azioni aggiuntive come feedback all'utente
    alert('Modifiche ai giorni di ferie salvate con successo.');
}
// Abilita il pulsante Salva se i campi modificabili vengono modificati
function enableSaveLeaveButton() {
    document.getElementById('saveLeaveButton').disabled = false;
}
</script>